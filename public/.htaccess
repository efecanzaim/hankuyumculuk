<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Eğer istenen dosya varsa, doğrudan sun
  RewriteCond %{REQUEST_FILENAME} -f
  RewriteRule ^ - [L]

  # Blog detay sayfaları - Tüm /blog/* URL'lerini /blog/index.html'e yönlendir
  RewriteCond %{REQUEST_URI} ^/blog/[^/]+/?$
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^blog/.+ /blog/index.html [L]

  # Ürün detay sayfaları - Tüm /urun/* URL'lerini /urun/index.html'e yönlendir
  RewriteCond %{REQUEST_URI} ^/urun/[^/]+/?$
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^urun/.+ /urun/index.html [L]

  # Trailing slash yoksa ve dizin varsa, trailing slash ekle (SEO için)
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteCond %{REQUEST_URI} !(.*)/$
  RewriteRule ^(.*)$ $1/ [L,R=301]

  # Eğer istenen klasör varsa ve içinde index.html varsa, onu sun
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteCond %{REQUEST_FILENAME}/index.html -f
  RewriteRule ^(.*)$ $1/index.html [L]

  # Eğer path/index.html varsa, onu sun (trailing slash olmadan)
  RewriteCond %{DOCUMENT_ROOT}/%{REQUEST_URI}/index.html -f
  RewriteRule ^(.*)$ $1/index.html [L]

  # Hiçbiri değilse, ana index.html'e yönlendir (SPA fallback)
  RewriteRule ^ /index.html [L]
</IfModule>
